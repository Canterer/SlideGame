{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\UI/assets\\scripts\\UI\\ButtonScaler.js"],"names":["cc","Class","extends","Component","properties","pressedScale","transDuration","onLoad","self","gameManager","find","getComponent","initScale","node","scale","button","Button","scaleDownAction","scaleTo","scaleUpAction","onTouchDown","event","stopAllActions","runAction","onTouchUp","on"],"mappings":";;;;;;AAAA;;;;;AAKAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAc,CADN;AAERC,uBAAe;AAFP,KAHP;;AAQLC,YAAO,kBAAU;AACb,YAAIC,OAAO,IAAX;AACA,YAAIC,cAAcT,GAAGU,IAAH,CAAQ,aAAR,CAAlB;AACA,YAAGD,WAAH,EACIA,cAAcA,YAAYE,YAAZ,CAAyB,aAAzB,CAAd;;AAEJH,aAAKI,SAAL,GAAiB,KAAKC,IAAL,CAAUC,KAA3B;AACAN,aAAKO,MAAL,GAAcP,KAAKG,YAAL,CAAkBX,GAAGgB,MAArB,CAAd;AACAR,aAAKS,eAAL,GAAuBjB,GAAGkB,OAAH,CAAWV,KAAKF,aAAhB,EAA+BE,KAAKH,YAApC,CAAvB;AACAG,aAAKW,aAAL,GAAqBnB,GAAGkB,OAAH,CAAWV,KAAKF,aAAhB,EAA+BE,KAAKI,SAApC,CAArB;;AAEA,iBAASQ,WAAT,CAAqBC,KAArB,EAA2B;AACvB,iBAAKC,cAAL;AACA;AACI;AACA;;AAEJ;AACA,iBAAKC,SAAL,CAAef,KAAKS,eAApB;AACH;AACD,iBAASO,SAAT,CAAmBH,KAAnB,EAAyB;AACrB,iBAAKC,cAAL;AACA,iBAAKC,SAAL,CAAef,KAAKW,aAApB;AACH;AACD,aAAKN,IAAL,CAAUY,EAAV,CAAa,YAAb,EAA2BL,WAA3B,EAAwC,KAAKP,IAA7C;AACA,aAAKA,IAAL,CAAUY,EAAV,CAAa,UAAb,EAAyBD,SAAzB,EAAoC,KAAKX,IAAzC;AACA,aAAKA,IAAL,CAAUY,EAAV,CAAa,aAAb,EAA4BD,SAA5B,EAAuC,KAAKX,IAA5C;AACH;AAnCI,CAAT","file":"ButtonScaler.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\UI","sourcesContent":["/*\r\nmodule:ButtonScaler\r\ndesc:按钮缩放脚步  用于统一控制按钮的缩放及音效等\r\nauthor:Canterer\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        pressedScale: 1,\r\n        transDuration: 0\r\n    },\r\n\r\n    onLoad:function(){\r\n        var self = this;\r\n        var gameManager = cc.find('GameManager');\r\n        if(gameManager)\r\n            gameManager = gameManager.getComponent('GameManager')\r\n\r\n        self.initScale = this.node.scale;\r\n        self.button = self.getComponent(cc.Button);\r\n        self.scaleDownAction = cc.scaleTo(self.transDuration, self.pressedScale);\r\n        self.scaleUpAction = cc.scaleTo(self.transDuration, self.initScale);\r\n\r\n        function onTouchDown(event){\r\n            this.stopAllActions();\r\n            // if( gameManager ){\r\n                // var audioManager = gameManager.getAudioManager();\r\n                // if(audioManager) audioManager.playSFX(\"button\");\r\n\r\n            // }\r\n            this.runAction(self.scaleDownAction);\r\n        }\r\n        function onTouchUp(event){\r\n            this.stopAllActions();\r\n            this.runAction(self.scaleUpAction);\r\n        }\r\n        this.node.on('touchstart', onTouchDown, this.node);\r\n        this.node.on('touchend', onTouchUp, this.node);\r\n        this.node.on('touchcancel', onTouchUp, this.node);\r\n    }\r\n});\r\n"]}